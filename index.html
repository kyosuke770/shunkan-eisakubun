<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>瞬間英作文</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- ================= HOME ================= -->
<main id="home">

  <header class="home-header">
    <h1>瞬間英作文</h1>
    <p class="subtitle">今日やることを選ぼう</p>
  </header>

  <!-- 今日のおすすめ -->
  <section class="home-card recommend">
    <h2>🌟 今日のおすすめ</h2>
    <p>
      ブロック：<strong id="recommendBlock">1-30</strong><br>
      全 <strong id="recommendCount">10</strong> 問
    </p>
    <button class="primary" id="startRecommend">▶ 今日の10問を始める</button>
  </section>

  <!-- 動画順モード -->
  <section class="home-card linear">
    <h2>▶️ 動画順で進める</h2>
    <p>現在のブロック：<strong id="currentBlock">1-30</strong></p>

    <div class="progress-bar">
      <div class="progress" id="blockProgressBar"></div>
    </div>
    <p><strong id="clearedCount">0</strong> / 30 クリア</p>

    <button class="primary" id="continueLinear">▶ 続きから進める</button>
    <button class="secondary" id="selectBlock">ブロックを選択</button>
  </section>

  <!-- カスタム / プリセット -->
  <section class="home-card custom">
    <h2>🎯 カスタム学習</h2>

    <div id="presetChips" class="chips"></div>

    <div class="preset-actions">
      <button class="secondary" id="openCustom">条件を選ぶ</button>
      <button class="secondary" id="savePreset">＋ 保存</button>
      <button class="secondary" id="managePresets">管理</button>
    </div>
  </section>

  <!-- 復習 -->
  <section class="home-card review">
    <h2>🔁 復習</h2>
    <p>期限切れ：<strong id="reviewCount">0</strong> 問</p>
    <button class="secondary" id="startReview">▶ 復習する</button>
  </section>

</main>

<!-- ================= PLAY ================= -->
<main id="play" style="display:none">

  <header class="play-header">
    <button class="secondary" onclick="showHome();renderHome();">← ホーム</button>
  </header>

  <section id="card">
    <div id="jp" class="jp">日本語</div>
    <div id="en" class="en">タップして答え</div>
  </section>

  <section class="grades">
    <button id="gradeAgain">Again</button>
    <button id="gradeHard">Hard</button>
    <button id="gradeGood">Good</button>
    <button id="gradeEasy">Easy</button>
  </section>

</main>

<!-- ================= BLOCK MODAL ================= -->
<div id="blockModal" class="modal hidden">
  <div class="modal-sheet">
    <header class="modal-header">
      <h2>動画順ブロック</h2>
      <button id="closeBlockModal" class="icon">✕</button>
    </header>
    <div id="blockList"></div>
  </div>
</div>

<!-- ================= PRESET MODAL ================= -->
<div id="presetModal" class="modal hidden">
  <div class="modal-sheet">
    <header class="modal-header">
      <h2>プリセット管理</h2>
      <button id="closePresetModal" class="icon">✕</button>
    </header>
    <div id="presetList"></div>
  </div>
</div>

<!-- ================= DATA (サンプル) ================= -->
<script>
/* 最低限のサンプル。CSV読み込みに置き換えてOK */
window.phrases = [
  { no:1, jp:"すぐに終わらせますね。", en:"I'll be quick.", lv:1, scene:"work", func:"explanation" },
  { no:2, jp:"もう少しで終わります。", en:"I'm almost done.", lv:2, scene:"daily", func:"explanation" }
];
</script>

<script src="app.js?v=1"></script>
</body>
</html>
